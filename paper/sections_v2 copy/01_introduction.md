# 1. 引言

移动机器人在复杂非结构化环境中的自主导航是机器人学领域的核心挑战之一。随着机器人在物流仓储、医疗护理、城市配送等场景中的广泛应用，如何在保证安全性的前提下实现高效实时的避障规划成为制约系统性能的关键瓶颈。模型预测控制（Model Predictive Control, MPC）因其能够显式处理系统动力学约束和环境几何约束，已成为解决受限最优控制问题的主流框架。然而，传统MPC方法在处理稠密点云表示的环境障碍物时面临严峻的计算挑战——求解带有数百个点级避障约束的优化问题通常需要数百毫秒甚至数秒，这与敏捷移动机器人所需的10–100Hz控制频率形成了根本性矛盾。

传统的MPC避障方法主要依赖于欧几里得符号距离场（Euclidean Signed Distance Field, ESDF）来提供碰撞信息和梯度。ESDF将环境离散化为体素网格，并在每个网格点处存储到最近障碍物的有符号距离值。这种表示方法具有理论上的完备性，能够为基于梯度的优化器提供平滑的距离梯度信息。然而，ESDF的构建和维护带来了显著的计算开销。对于典型的室内环境，ESDF的计算复杂度为$O(N \cdot M)$，其中$N$为障碍物点数，$M$为网格分辨率，每次更新通常需要数十至数百毫秒。更为关键的是，ESDF将距离计算与运动优化分离为两个独立阶段，阻碍了端到端学习和联合优化的可能性。中心点距离法等简化方法虽然能够显著降低计算量，但对于非凸障碍物场景精度严重下降，难以满足实际应用需求。这种计算效率与避障精度之间的矛盾，促使研究者探索能够兼顾两者的新型表示方法。

## 1.1 相关工作

### 1.1.1 传统点云处理方法

将障碍物信息融入运动规划的主流范式是从原始传感器数据构建中间几何表示。Oleynikova等人提出了Voxblox——一种增量式三维符号距离场构建方法，通过利用相邻帧之间的空间相干性实现实时更新，显著加速了微型无人机（MAV）的在线轨迹规划。Han等人进一步提出了FIESTA算法，通过优化增量更新策略将ESDF维护的计算效率提升了一个数量级。尽管这些工作取得了重要进展，ESDF类方法共享一个根本性的局限：它们将距离计算与运动优化视为独立阶段，无法实现端到端学习与联合优化。此外，ESDF的存储开销随环境规模呈立方增长，对于大规模室外环境的适用性受到严重制约。

另一类研究直接在点云原语上进行操作，避免显式的地图构建过程。Zhou等人采用中心点距离作为简化的碰撞度量，以牺牲几何保真度为代价换取更快的计算速度。这种近似方法在障碍物稀疏且为凸形状的环境中表现尚可，但在杂乱场景中——精确的边界推理变得至关重要——其性能显著下降。Han等人近期提出的NeuPAN框架通过双凸对偶重构（Biconvex Dual Reformulation）解决了这一问题，将点级碰撞约束转化为对偶变量的求解问题，从而实现了对障碍物点的直接优化而无需中间地图表示。NeuPAN证明了基于学习的感知模块能够与基于优化的控制紧密集成以实现实时性能。然而，NeuPAN中的神经网络组件DUNE并未显式强制对偶可行性约束——这些约束对于有效的距离计算是必需的——导致约43–50%的推理结果存在约束违背，必须通过事后投影进行修正。

### 1.1.2 基于学习的点云感知

深度学习通过专门针对不规则、无序点集设计的网络架构彻底革新了点云处理领域。Qi等人提出的PointNet通过对逐点特征进行最大池化聚合实现了置换不变性，为后续研究奠定了基础。PointNet++在此基础上引入层次化特征学习，在多个尺度上捕获局部几何结构。近年来，基于注意力机制的架构在点云理解任务上取得了最先进的性能。Zhao等人提出的Point Transformer将自注意力机制应用于点云特征，并结合位置编码增强空间感知能力。最新的Point Transformer V3通过序列化注意力模式进一步提升了大规模点云处理的效率和精度，在多个基准测试中刷新了记录。

然而，这些黑盒神经网络无法保证其输出满足优化问题固有的数学约束。当应用于预测避障所需的对偶变量时——这些变量必须满足非负性约束和范数约束——标准神经网络的违背率通常超过20–30%。虽然可以通过投影操作修正这些违背，但修正后的解可能与最优解存在显著偏差，且投影步骤引入了额外的计算开销。更为关键的是，缺乏结构性保证从根本上削弱了MPC控制所追求的理论安全性——这种安全性正是采用基于优化的控制框架的初衷所在。

### 1.1.3 算法展开与神经优化

算法展开（Algorithm Unrolling），又称深度展开（Deep Unfolding），提供了一种将神经网络的效率与优化算法的结构相结合的原则性方法。通过将迭代优化步骤解释为神经网络的层级结构，并允许算法参数从数据中学习，展开网络能够以比手工调参算法更少的迭代次数达到收敛，同时保持良好的可解释性。Gregor和LeCun以LISTA（Learned ISTA）开创了这一研究方向，证明了展开的稀疏编码网络仅用几层便能达到数百次ISTA迭代的精度。Yang等人将展开方法扩展到ADMM用于压缩感知MRI重建，表明问题特定的架构能够超越通用网络的性能。

对于与机器人相关的受约束优化问题，可微分优化层提供了另一种范式。Amos和Kolter提出的OptNet将二次规划（QP）求解器嵌入神经网络中，并通过KKT条件计算梯度实现端到端训练。Agrawal等人提出的CvxpyLayers将这一方法推广到任意规范凸程序，使其能够作为可微分层参与神经网络计算。虽然这些方法通过构造保证了约束满足，但它们继承了底层求解器的计算复杂度，限制了其在需要毫秒级延迟的实时控制场景中的适用性。

### 1.1.4 物理信息神经网络

物理信息学习（Physics-Informed Learning）已成为将领域知识融入神经网络训练和架构的重要策略。Raissi等人提出的物理信息神经网络（Physics-Informed Neural Networks, PINNs）将控制方程作为软约束嵌入损失函数，使网络即使在训练数据有限的情况下也能遵循物理规律。对于优化问题，KKT条件提供了类似的结构性约束来刻画最优解的特性。近期工作探索了将KKT残差编码为正则化项以提升解的质量和泛化能力。然而，软惩罚方法无法保证严格的约束满足——这对于安全保障的机器人控制是一个关键要求。如何在网络架构层面嵌入硬约束保证，是连接学习效率与优化严谨性的核心挑战。

## 1.2 本文贡献

针对上述挑战，本文提出PDPL-Net（Primal-Dual Proximal Learning Network，原始-对偶近端学习网络），一种面向MPC导航的实时点云感知网络架构，同时实现计算效率与严格约束满足。我们的核心洞见是：对偶可行性约束——这些约束对于有效的距离计算是必需的——可以通过嵌入网络架构的显式几何投影层来强制满足，而非依赖软惩罚或事后修正。通过将PDHG算法展开与硬投影层及KKT正则化训练相结合，PDPL-Net学习产生近乎最优的对偶变量，且这些变量在构造上保证可行。

本文的主要贡献总结如下：

**1. 带硬投影的PDHG展开架构**：我们提出将原始-对偶混合梯度（PDHG）算法展开为可训练网络层的架构，并嵌入无参数的硬投影层显式强制对偶可行性约束$\mu \geq 0$和$\|\mathbf{G}^\top \mu\|_2 \leq 1$。这一架构设计保证了100%的约束满足率，不受输入分布影响。

**2. 加速收敛的可学习近端算子**：我们在PDHG展开中引入可学习残差模块，这些模块充当数据驱动的近端算子，使网络仅需$J=1$–$2$层便能收敛到近乎最优的解。理论分析表明，这些学习算子近似了最优预处理，将迭代复杂度从$O(1/\epsilon)$压缩至$O(1)$。

**3. KKT残差正则化训练策略**：我们提出融合KKT条件的物理信息训练损失，包含原始可行性、对偶可行性和互补松弛性残差项。这种正则化通过编码优化问题的数学结构，显著提升了模型在分布外场景中的泛化能力。

**4. 全面的实验验证**：我们建立了包含12种代表性基线方法的评测框架，涵盖传统优化、黑盒神经网络、算法展开和可微分优化四大类。实验表明，PDPL-Net相比精确求解器实现了954倍加速，同时保持可比的精度（MSE $\sim 10^{-5}$）；约束满足率从基线方法的0–88%提升至100%。闭环MPC导航实验验证了改进的前端模块在完整导航流程中转化为更优的路径质量和计算效率。

## 1.3 论文组织

本文其余部分组织如下：第2节建立移动机器人导航的数学模型，介绍点级碰撞约束的双凸对偶重构，并描述MPC优化框架；第3节详细阐述PDPL-Net网络架构，包括特征编码器、PDHG展开层和硬投影机制；第4节描述训练策略，包括合成数据生成、损失函数设计和训练配置；第5节展示全面的实验结果，包括与基线方法的对比、验证各组件贡献的消融实验，以及展示端到端性能的闭环导航实验；第6节提供收敛性和约束保证的理论分析；第7节讨论方法的洞见、局限性和未来方向；第8节总结全文。

