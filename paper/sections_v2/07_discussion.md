# 7. 讨论

在前述理论分析和实验验证的基础上，本章进一步从设计洞察、局限性和未来方向三个维度展开讨论。

## 7.1 设计洞察

### 7.1.1 从优化到学习的平衡

PDPL-Net的核心设计理念是在优化的严谨性与学习的高效性之间寻找最优平衡点。这一平衡体现在三个层面。首先是**结构化归纳偏置**：与通用的MLP或Transformer不同，PDPL-Net的网络架构直接对应于PDHG优化算法的迭代步骤。这种设计使网络不需要从零开始学习输入-输出映射，而是被显式引导去执行梯度更新和投影操作。如定理6.2所示，这种结构先验将收敛速率从标准一阶方法的$O(1/K)$提升至指数收敛$O(\rho^J)$。

其次是**可学习残差作为自适应预处理器**。在传统PDHG算法中，步长参数$\tau, \sigma$为满足最坏情况收敛条件而设定得非常保守。PDPL-Net中的残差模块充当了数据驱动的非线性预处理器——它根据当前输入特征动态预测最优的更新方向和步长。推论6.1的理论分析表明，这相当于网络学习了从当前点到最优解的"捷径"，在极端情况下实现单步收敛。

最后是**硬约束与软学习的解耦**。硬投影层将可行性保证从网络学习过程中解耦出来：网络负责逼近最优解（可以犯错），而投影层负责修正约束违背（必须正确）。这种设计避免了在损失函数中平衡多个软惩罚项的权重调参难题，同时如定理6.4所证，保证了距离估计的保守性。

### 7.1.2 硬投影层的必要性

消融实验（表4）揭示了一个重要发现：移除硬投影层后，CSR从100%直接降至0%。这证实了我们在第3.4节的分析——在高维空间中，约束可行域的边界是测度为零的集合，仅靠神经网络的拟合能力无法精确"命中"这一边界。现有的深度展开方法（如LISTA、ADMM-Net）大多通过软惩罚处理约束，无法提供严格的可行性保证。PDPL-Net的硬投影层将安全保证从"概率性"提升到了"确定性"，这对于安全攸关的机器人应用具有本质性意义。

实验中我们还观察到，随着训练进行，网络输出被投影截断的比例逐渐减小。这表明网络学会了主动生成可行的输出，投影层从"主动修正"转变为"安全兜底"。这种训练动态验证了硬投影层的双重作用：在推理时提供确定性保证，在训练时引导网络学习可行域的结构。

### 7.1.3 KKT正则化的价值

虽然在点级MSE指标上KKT正则化的提升看似有限（表4），但其真正价值体现在两个方面。首先是**分布外泛化**：在动态障碍物或未见过的复杂环境中，数据分布可能发生变化，但优化问题的物理结构（KKT条件）是不变的。经KKT正则化训练的网络内化了问题结构，使其在OOD样本上仍能输出符合物理规律的解。闭环实验（5.4节）验证了这一点。其次是**解的质量**：KKT条件直接刻画了最优解的结构——互补松弛性确保对偶变量与约束边界正确对齐，原始可行性确保距离计算的有效性。最小化KKT残差使网络输出不仅在数值上接近标签，更在数学结构上满足最优性条件。

## 7.2 局限性

尽管PDPL-Net在效率和安全性上取得了突破，但仍存在以下局限：

**动态环境的显式建模不足**。当前框架将动态障碍物处理为连续的静态快照，未显式利用障碍物速度信息进行轨迹预测。这导致在高度动态场景（如行人密集区）中，机器人可能过于保守或反应滞后。虽然闭环实验中PDPL-Net在动态场景的表现优于Baseline，但绝对性能仍有提升空间。

**非凸约束的处理能力**。当前方法依赖对偶重构将避障约束转化为双凸形式。对于更一般的非凸约束——如多机器人互避障的耦合约束、复杂机械臂的自碰撞约束——PDHG的收敛性理论不再直接适用。将展开框架扩展到非凸优化是一个重要但具有挑战性的方向。

**真实世界验证的缺失**。当前实验主要基于高保真仿真环境。真实世界的传感器噪声、定位误差和通信延迟可能影响算法性能。虽然PDPL-Net的硬投影层提供了结构性的约束保证，但从仿真到真实部署的迁移效果仍需验证。

**机器人几何的泛化性**。当前模型针对特定机器人几何训练。当机器人形状改变时需要重新训练网络。探索条件化网络设计——将几何参数$(\mathbf{G}, \mathbf{g})$作为网络输入——可实现跨机器人泛化，但这会增加网络复杂度和训练难度。

## 7.3 未来方向

基于上述分析，我们提出以下值得探索的研究方向：

**时空一体化规划**。结合时序神经网络（LSTM、Transformer）预测障碍物未来轨迹，将预测视窗纳入MPC约束构建，实现时空一致的规划。这需要扩展当前的点级预测框架到轨迹级预测，同时保持实时性。

**非凸展开架构**。探索结合ADMM或SQP的展开架构以处理非凸优化问题。关键挑战在于如何在非凸设定下定义有意义的"投影"操作，以及如何保证展开网络的收敛性。

**与控制障碍函数的融合**。控制障碍函数（CBF）是安全学习的另一主流方法。PDPL-Net与CBF存在互补关系：CBF从连续时间动力学角度保证安全集的不变性，PDPL-Net从离散优化角度保证对偶可行性。探索两者的融合——例如利用PDPL-Net预测CBF参数——可能产生更强的安全保证。

**边缘部署优化**。当前实验在高性能GPU上进行。为了在边缘设备（如Jetson、Raspberry Pi）上部署，需要进一步优化网络结构（量化、剪枝）和推理流程（TensorRT优化）。PDPL-Net的轻量级设计（~1600参数）为边缘部署提供了良好基础。

